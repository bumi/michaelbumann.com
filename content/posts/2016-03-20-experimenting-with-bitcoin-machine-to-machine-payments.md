---
date: "2016-03-20T07:16:08+00:00"
draft: false
tags: ["bitcoin", "API", "payments", "IoT"]
title: "Experimenting with Bitcoin machine to machine payments"
---
<p>We will see more and more machines directly and autonomously interacting with each other. Machines provide services to each other that are needed to fulfill their tasks.<br> Many tools that we are regularly using today are already <a href="https://en.wikipedia.org/wiki/Mashup_%28web_application_hybrid%29">mashups</a> relying on different services and with the rise <a href="https://en.wikipedia.org/wiki/Internet_of_Things">IoT</a>&nbsp;we will see only more devices consuming remote services and services directly from other devices.&nbsp;</p><p>Providing services obviously also involves paying for these and this is where Bitcoin comes in. Bitcoin as this decentralized, open network to transfer value allows to send value/payments directly the counterpart.</p><p>I&rsquo;ve been experimenting on how this could be implemented. <a href="https://github.com/bumi/api-payments-example">Here</a> is a client and server implementation of an example for Bitcoin based API payments.&nbsp;</p><p>The example <a href="https://github.com/bumi/api-payments-example/blob/master/src/main/java/styx/Server.java">server</a>&nbsp;is exposing an API endpoint (to lookup the weather) that requires the <a href="https://github.com/bumi/api-payments-example/blob/master/src/main/java/styx/Client.java">client</a> to attach&nbsp;&ldquo;some money&rdquo; to its request. If no payment is attached the server responds with a <a href="http://michaelbumann.com/post/140637377117/example-clientserver-implementing-of-the-bitcoin">BIP70 payment request</a>&nbsp;and the client resends the request with the requested payment.</p><p>Here is a diagram that shows the sequence of requests:<br><a href="https://raw.githubusercontent.com/bumi/api-payments-example/master/sequence-explanation.png"><figure class="tmblr-full" data-orig-height="760" data-orig-width="1260" data-orig-src="https://raw.githubusercontent.com/bumi/api-payments-example/master/sequence-explanation.png"><img src="/img/2016-03-20-experimenting-with-bitcoin-machine-to-machine-payments/b8b99b920dfca37aff402a05043e6fc952ffdad8f8f6a75446498790be75338d.png" alt="image" data-orig-height="760" data-orig-width="1260" data-orig-src="https://raw.githubusercontent.com/bumi/api-payments-example/master/sequence-explanation.png"></figure></a></p>
<p>Have a look at the <a href="https://github.com/bumi/api-payments-example#readme">README and try it yourself.</a> What do you think?</p>
<p>
<a href="http://21.co">21.co</a> lately also released their ideas of <a href="https://21.co/learn/bitcoin-payable-api/#a-bitcoin-payable-api">Bitcoin-payable APIs</a> and a <a href="https://21.co/mkt/">marketplace for APIs</a> running on their Bitcoin computer. <br> 
For sure something to keep an eye on.
</p>