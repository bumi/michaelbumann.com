<!-- Sidebar -->
<div class="sidebar">
  <div class="container {{ with .Site.Params.sidebarSticky }}sidebar-sticky{{ end }}">
    <div class="sidebar-about">
      {{ if and (isset .Site.Params "authorimage") (not (isset .Site.Params.social "gravatar")) }}
        {{ with .Site.Params.authorimage }}
        {{ $strippedSlash := ($.Site.Params.authorimage | replaceRE "^(/)+(.*)" "$2") }}
        {{ $authorImage := (printf "%s/%s" $.Site.BaseURL $strippedSlash) }}
        <div class="author-image">
          <a href="{{ $.Site.BaseURL }}"><img src="{{$authorImage}}" alt="me" class="img--circle img--headshot element--center"></a>
        </div>
        {{ end }}
      {{ end }}
      {{ with .Site.Params.social.gravatar}}
        <div class="author-image">
          <a href="{{ $.Site.BaseURL }}"><img src="https://www.gravatar.com/avatar/{{md5 .}}?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar"></a>
        </div>
      {{ end }}
      <h1 class="site__title">
        <a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a>
      </h1>
      <h2 class="site__description">
        {{ with .Site.Params.description }} {{.}} {{end}}
      </h2>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">{{ .Site.Title }}</label>
      <div class="menu-content">
        {{ partial "sidebar/menu.html" . }}
        {{ partial "sidebar/contact.html" . }}
        {{ partial "sidebar/social.html" . }}
        {{ partial "sidebar/location.html" . }}
      </div>
    </div>
  </div>
</div>
