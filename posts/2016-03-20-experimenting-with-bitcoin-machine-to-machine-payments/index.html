<!DOCTYPE html>
<html lang="en-us">
  
    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.57.2" />

    
    
    

<title>Experimenting with Bitcoin machine to machine payments â€¢ Michael Bumann</title>
<meta name="description" content="Michael Bumann - Hacker and Thinker from planet Earth. Passionate about the web and decentralization.">
<meta name="keywords" content="Michael Bumann, Software Developer, Software Engineer, Bitcoin, Lightning, Ethereum, Blockchain, World, Travel">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Experimenting with Bitcoin machine to machine payments"/>
<meta name="twitter:description" content="We will see more and more machines directly and autonomously interacting with each other. Machines provide services to each other that are needed to fulfill their tasks.
Many tools that we are regularly using today are already mashups relying on different services and with the rise IoT&nbsp;we will see only more devices consuming remote services and services directly from other devices.&nbsp;
Providing services obviously also involves paying for these and this is where Bitcoin comes in."/>

<meta property="og:title" content="Experimenting with Bitcoin machine to machine payments" />
<meta property="og:description" content="We will see more and more machines directly and autonomously interacting with each other. Machines provide services to each other that are needed to fulfill their tasks.
Many tools that we are regularly using today are already mashups relying on different services and with the rise IoT&nbsp;we will see only more devices consuming remote services and services directly from other devices.&nbsp;
Providing services obviously also involves paying for these and this is where Bitcoin comes in." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://michaelbumann.com/posts/2016-03-20-experimenting-with-bitcoin-machine-to-machine-payments/" />
<meta property="article:published_time" content="2016-03-20T07:16:08+00:00" />
<meta property="article:modified_time" content="2016-03-20T07:16:08+00:00" />


    






<link rel="stylesheet" href="/scss/hyde-hyde.9161e8cb262d15538aa768e7bebbd539871d50f89e527ef38a91d2d18b5b8f76.css" integrity="sha256-kWHoyyYtFVOKp2jnvrvVOYcdUPieUn7zipHS0Ytbj3Y=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

</head>


  
  <body class="theme-base-0d ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      
        
        
        
        <div class="author-image">
          <a href="https://michaelbumann.com"><img src="https://michaelbumann.com/img/profile_small.jpg" alt="me" class="img--circle img--headshot element--center"></a>
        </div>
        
      
      
      <h1 class="site__title">
        <a href="https://michaelbumann.com">Michael Bumann</a>
      </h1>
      <h2 class="site__description">
         Hacker and open web enthusiast from planet Earth 
      </h2>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Michael Bumann</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/about">
						<span>About Me</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="contact">
  <h4>Contact</h4>
  <p>
    <a href="mailto:hello@michaelbumann.com">hello@michaelbumann.com</a> 
    <small>(<a href="https://gist.github.com/bumi/c3ad9e813af308c9587d">PGP</a>)</small>
  </p>
  <p>
    <small>
      <a href="https://signal.org/">Signal</a> or whatsapp: +4917622747893
    </small>
  </p>
</section>

        <section class="social">
  <h4>Elsewhere on the interwebs</h4>
	
	<a href="https://twitter.com/bumi" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://facebook.com/michaelbumann" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/bumi" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://flickr.com/bumi" rel="me"><i class="fab fa-flickr fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://instagram.com/buuumi" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/michaelbumann" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	<a href="mailto:hello@michaelbumann.com" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

        <section class="location" style="display:none">
  <h4>Where am I? (<a href="http://where.is.michaelbumann.com">log</a>)</h4>
  <p>
    <span class="current-location"></span> - drinks?
  </p>
  <p>
    <span class="next-location"></span>
  </p>
</section>

<script type="text/javascript">
    fetch('https://api.github.com/repos/bumi/travels/commits?sha=locations').then(function(response) {
      response.json().then(function(commits) {
        var max = commits.length;
        var future = [];
        var past = [];
        commits = commits.sort(function(c1, c2) { 
            var d1 = new Date(c1.commit.author.date);
            var d2 = new Date(c2.commit.author.date); 
            if(d1 < d2) { return 1; }
            if(d1 > d2) { return -1; }
            return 0;
        });
        for(var i=0; i < max; i++) {
          console.log(i)
            try {
                var c = commits[i].commit;
                var commitMessage = c.message.split("\n");
                var data = JSON.parse(commitMessage[commitMessage.length-1]);
                var arrival = new Date(c.author.date);
                var area = data.city || data.state || 'somewhere';
                
                var message = area + ', ' + data.country;
                if(arrival > new Date()) {
                    Array.prototype.forEach.call(
                      document.getElementsByClassName('next-location'),
                      function(e) { e.innerHTML = 'Planned: ' + message + ' (' + arrival.toDateString() + ')'; }
                    ); 
                    Array.prototype.forEach.call(
                       document.getElementsByClassName('location-list'),
                       function(e) { 
                         e.append('<li class="future">' + message + ' (' + arrival.toDateString() + ')</li>');
                       }
                    );
                    future.push(c);
                } else {
                    if(past.length === 0) {
                      Array.prototype.forEach.call(
                        document.getElementsByClassName('current-location'),
                        function(e) { e.innerHTML = message; }
                      );
                    }
                    Array.prototype.forEach.call(
                      document.getElementsByClassName('location-list'),
                      function(e) { e.append('<li class="past">' + message + '</li>'); }
                    );
                    past.push(c);
                }
                Array.prototype.forEach.call( 
                  document.getElementsByClassName('location'),
                  function(e) { e.style.display = "block"; }
                );
            } catch(e) {
                console.log(e); 
            } 
        };
      });
    });
</script>

      </div>
    </div>
  </div>
</div>

    
    <div class="content container">
      
    <article>
  <header>
    <h1>Experimenting with Bitcoin machine to machine payments</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Mar 20, 2016
    
    
    
</div>


  </header>
  <div class="post">
    <p>We will see more and more machines directly and autonomously interacting with each other. Machines provide services to each other that are needed to fulfill their tasks.<br> Many tools that we are regularly using today are already <a href="https://en.wikipedia.org/wiki/Mashup_%28web_application_hybrid%29">mashups</a> relying on different services and with the rise <a href="https://en.wikipedia.org/wiki/Internet_of_Things">IoT</a>&nbsp;we will see only more devices consuming remote services and services directly from other devices.&nbsp;</p><p>Providing services obviously also involves paying for these and this is where Bitcoin comes in. Bitcoin as this decentralized, open network to transfer value allows to send value/payments directly the counterpart.</p><p>I&rsquo;ve been experimenting on how this could be implemented. <a href="https://github.com/bumi/api-payments-example">Here</a> is a client and server implementation of an example for Bitcoin based API payments.&nbsp;</p><p>The example <a href="https://github.com/bumi/api-payments-example/blob/master/src/main/java/styx/Server.java">server</a>&nbsp;is exposing an API endpoint (to lookup the weather) that requires the <a href="https://github.com/bumi/api-payments-example/blob/master/src/main/java/styx/Client.java">client</a> to attach&nbsp;&ldquo;some money&rdquo; to its request. If no payment is attached the server responds with a <a href="http://michaelbumann.com/post/140637377117/example-clientserver-implementing-of-the-bitcoin">BIP70 payment request</a>&nbsp;and the client resends the request with the requested payment.</p><p>Here is a diagram that shows the sequence of requests:<br><a href="https://raw.githubusercontent.com/bumi/api-payments-example/master/sequence-explanation.png"><figure class="tmblr-full" data-orig-height="760" data-orig-width="1260" data-orig-src="https://raw.githubusercontent.com/bumi/api-payments-example/master/sequence-explanation.png"><img src="/img/2016-03-20-experimenting-with-bitcoin-machine-to-machine-payments/b8b99b920dfca37aff402a05043e6fc952ffdad8f8f6a75446498790be75338d.png" alt="image" data-orig-height="760" data-orig-width="1260" data-orig-src="https://raw.githubusercontent.com/bumi/api-payments-example/master/sequence-explanation.png"></figure></a></p>
<p>Have a look at the <a href="https://github.com/bumi/api-payments-example#readme">README and try it yourself.</a> What do you think?</p>
<p>
<a href="http://21.co">21.co</a> lately also released their ideas of <a href="https://21.co/learn/bitcoin-payable-api/#a-bitcoin-payable-api">Bitcoin-payable APIs</a> and a <a href="https://21.co/mkt/">marketplace for APIs</a> running on their Bitcoin computer. <br> 
For sure something to keep an eye on.
</p>

  </div>
  <div class="post__meta">
  
  
    
    
         <i class="fas fa-tags"></i>
        
        <a class="badge badge-tag" href="/tags/bitcoin">bitcoin</a>
         
    
        <a class="badge badge-tag" href="/tags/api">api</a>
         
    
        <a class="badge badge-tag" href="/tags/payments">payments</a>
         
    
        <a class="badge badge-tag" href="/tags/iot">iot</a>
        
    
  
  
</div>  

  
<div class="just-comments" data-disablesociallogin="true" data-disablesharebutton="true" data-apikey="a8a80457-fe96-4d3c-ba5c-67a61d7f899a" ></div>
<script async src="https://just-comments.com/w.js"></script>


  

<div class="navigation navigation-single">
    
    <a href="/posts/2016-03-17-dont-ask-where-im-from/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Don&#39;t ask where I&#39;m from</span>
    </a>
    
    
    <a href="/posts/2016-03-24-why-i-am-excited-about-openbazaar-co/" class="navigation-next">
      <span class="navigation-tittle">Why I am excited about OpenBazaar &amp; Co.</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


</article>


    </div>
    
    <script defer src="/js/fontawesome_v5.5.0_js_all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    



  </body>
</html>
