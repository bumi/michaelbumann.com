---
date: "2018-02-27T14:30:47+00:00"
draft: false
tags: ["ethereum", "ipfs", "graphql"]
title: "Wrapping Ethereum smart contracts and IPFS objects in a GraphQL API?"
---
<p>I was just chatting with the always inspiring <a href="http://twitter.com/namxam">Max</a> today about <a href="http://graphql.org/">GraphQL</a>.I’ve never really used GraphQL in production but I am pretty excited about the flexibility it brings for clients to query data from a server. GraphQL provides a easily understandable description of the data an API provides and gives the client the possibility to query exactly the data it needs in one single request.&nbsp;</p><p>Currently I am not building any APIs but requesting data from <a href="https://ethereum.org/">Ethereum</a> smart contracts, <a href="https://ipfs.io/">IPFS</a>, etc. And one of the problems in my opinion is querying data from the different sources which adds quite some complexity and leads to loads of HTTP requests to get all the data. <br></p><p>For example: we store user profiles in a mapping: <br></p><p>mapping(address =&gt; string) public profiles;</p><p>They key is the user’s account address and the value is an IPFS hash containing detailed profile data. <br>To retrieve all profiles (including the data from IPFS) in our dAPP (client side JS) we would need to somehow iterate over the the mapping (which is already hard enough) and then request the profile object from IPFS.</p><p>Quite some code manage the fetching of some rather simple data and I actually don’t like that UI developers have to deal with that. <br></p><p>So the question arose if it is possible to create a GraphQL wrapper for smart contracts, IPFS objects, etc.?<br>Using the smart contract’s ABI and some custom resolvers this should be possible. The same wrapper API could make it easier for different clients and tools be built on top of that.<br></p><p>Now one could say we don’t want the additional server component, but as it is just loading data from the networks and prepares it for the UI I think that’s not a problem and just a useful addition to the dApp architecture.<br>The frontend and this GraphQL server component could still be deployed wherever and no central installation is required. <br></p><p>What do you think? did anyone try GraphQL in that context already?<br></p>